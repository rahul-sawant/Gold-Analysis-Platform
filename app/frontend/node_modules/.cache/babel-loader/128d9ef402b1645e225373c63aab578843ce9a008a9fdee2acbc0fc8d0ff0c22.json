{"ast":null,"code":"import React from'react';import{Line}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend}from'chart.js';import moment from'moment';// Register ChartJS components\nimport{jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend);const PriceChart=_ref=>{let{priceData,title='Gold Price Chart',showPrediction=false,predictionData=[]}=_ref;if(!priceData||priceData.length===0){return/*#__PURE__*/_jsx(\"div\",{children:\"No data available\"});}// Process price data for chart\nconst timestamps=priceData.map(item=>moment(item.timestamp).format('MM/DD/YYYY HH:mm'));const closePrices=priceData.map(item=>item.close);// Prepare prediction data if available\nlet predictionTimestamps=[];let predictedPrices=[];if(showPrediction&&predictionData&&predictionData.length>0){predictionTimestamps=predictionData.map(item=>moment(item.timestamp).format('MM/DD/YYYY HH:mm'));predictedPrices=predictionData.map(item=>item.predicted_price);}// Combine real data with predictions for continuous line\nconst allTimestamps=[...timestamps];const allClosePrices=[...closePrices];if(showPrediction&&predictionData&&predictionData.length>0){// Add the prediction data\nallTimestamps.push(...predictionTimestamps);// Create a null-filled array matching the size of the real data\nconst nullArray=Array(closePrices.length).fill(null);// Create prediction line with nulls for historical data points\nconst predictionLine=[...nullArray,...predictedPrices];// Ensure both arrays have the same length\nif(allTimestamps.length>predictionLine.length){const diff=allTimestamps.length-predictionLine.length;for(let i=0;i<diff;i++){predictionLine.push(null);}}// Chart data\nconst chartData={labels:allTimestamps,datasets:[{label:'Actual Price',data:allClosePrices,borderColor:'#d4af37',backgroundColor:'rgba(212, 175, 55, 0.1)',fill:true,tension:0.1},{label:'Predicted Price',data:predictionLine,borderColor:'#3399ff',backgroundColor:'rgba(51, 153, 255, 0.1)',borderDash:[5,5],fill:true,tension:0.1}]};const options={responsive:true,plugins:{legend:{position:'top'},title:{display:true,text:title},tooltip:{mode:'index',intersect:false}},hover:{mode:'nearest',intersect:true},scales:{x:{display:true,title:{display:true,text:'Time'}},y:{display:true,title:{display:true,text:'Price'}}}};return/*#__PURE__*/_jsx(Line,{data:chartData,options:options,height:80});}else{// Simple chart without predictions\nconst chartData={labels:timestamps,datasets:[{label:'Gold Price',data:closePrices,borderColor:'#d4af37',backgroundColor:'rgba(212, 175, 55, 0.1)',fill:true,tension:0.1}]};const options={responsive:true,plugins:{legend:{position:'top'},title:{display:true,text:title}},scales:{x:{display:true,title:{display:true,text:'Time'}},y:{display:true,title:{display:true,text:'Price'}}}};return/*#__PURE__*/_jsx(Line,{data:chartData,options:options,height:80});}};export default PriceChart;","map":{"version":3,"names":["React","Line","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","moment","jsx","_jsx","register","PriceChart","_ref","priceData","title","showPrediction","predictionData","length","children","timestamps","map","item","timestamp","format","closePrices","close","predictionTimestamps","predictedPrices","predicted_price","allTimestamps","allClosePrices","push","nullArray","Array","fill","predictionLine","diff","i","chartData","labels","datasets","label","data","borderColor","backgroundColor","tension","borderDash","options","responsive","plugins","legend","position","display","text","tooltip","mode","intersect","hover","scales","x","y","height"],"sources":["/Users/rahulsawant/Documents/Projects/goldpredict/Gold Analysis Platform/app/frontend/src/components/PriceChart.js"],"sourcesContent":["import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\nimport moment from 'moment';\n\n// Register ChartJS components\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\n\nconst PriceChart = ({ priceData, title = 'Gold Price Chart', showPrediction = false, predictionData = [] }) => {\n  if (!priceData || priceData.length === 0) {\n    return <div>No data available</div>;\n  }\n\n  // Process price data for chart\n  const timestamps = priceData.map(item => moment(item.timestamp).format('MM/DD/YYYY HH:mm'));\n  const closePrices = priceData.map(item => item.close);\n  \n  // Prepare prediction data if available\n  let predictionTimestamps = [];\n  let predictedPrices = [];\n  \n  if (showPrediction && predictionData && predictionData.length > 0) {\n    predictionTimestamps = predictionData.map(item => moment(item.timestamp).format('MM/DD/YYYY HH:mm'));\n    predictedPrices = predictionData.map(item => item.predicted_price);\n  }\n  \n  // Combine real data with predictions for continuous line\n  const allTimestamps = [...timestamps];\n  const allClosePrices = [...closePrices];\n  \n  if (showPrediction && predictionData && predictionData.length > 0) {\n    // Add the prediction data\n    allTimestamps.push(...predictionTimestamps);\n    \n    // Create a null-filled array matching the size of the real data\n    const nullArray = Array(closePrices.length).fill(null);\n    \n    // Create prediction line with nulls for historical data points\n    const predictionLine = [...nullArray, ...predictedPrices];\n    \n    // Ensure both arrays have the same length\n    if (allTimestamps.length > predictionLine.length) {\n      const diff = allTimestamps.length - predictionLine.length;\n      for (let i = 0; i < diff; i++) {\n        predictionLine.push(null);\n      }\n    }\n    \n    // Chart data\n    const chartData = {\n      labels: allTimestamps,\n      datasets: [\n        {\n          label: 'Actual Price',\n          data: allClosePrices,\n          borderColor: '#d4af37',\n          backgroundColor: 'rgba(212, 175, 55, 0.1)',\n          fill: true,\n          tension: 0.1\n        },\n        {\n          label: 'Predicted Price',\n          data: predictionLine,\n          borderColor: '#3399ff',\n          backgroundColor: 'rgba(51, 153, 255, 0.1)',\n          borderDash: [5, 5],\n          fill: true,\n          tension: 0.1\n        }\n      ]\n    };\n    \n    const options = {\n      responsive: true,\n      plugins: {\n        legend: {\n          position: 'top',\n        },\n        title: {\n          display: true,\n          text: title\n        },\n        tooltip: {\n          mode: 'index',\n          intersect: false\n        }\n      },\n      hover: {\n        mode: 'nearest',\n        intersect: true\n      },\n      scales: {\n        x: {\n          display: true,\n          title: {\n            display: true,\n            text: 'Time'\n          }\n        },\n        y: {\n          display: true,\n          title: {\n            display: true,\n            text: 'Price'\n          }\n        }\n      }\n    };\n    \n    return <Line data={chartData} options={options} height={80} />;\n  } else {\n    // Simple chart without predictions\n    const chartData = {\n      labels: timestamps,\n      datasets: [\n        {\n          label: 'Gold Price',\n          data: closePrices,\n          borderColor: '#d4af37',\n          backgroundColor: 'rgba(212, 175, 55, 0.1)',\n          fill: true,\n          tension: 0.1\n        }\n      ]\n    };\n    \n    const options = {\n      responsive: true,\n      plugins: {\n        legend: {\n          position: 'top',\n        },\n        title: {\n          display: true,\n          text: title\n        }\n      },\n      scales: {\n        x: {\n          display: true,\n          title: {\n            display: true,\n            text: 'Time'\n          }\n        },\n        y: {\n          display: true,\n          title: {\n            display: true,\n            text: 'Price'\n          }\n        }\n      }\n    };\n    \n    return <Line data={chartData} options={options} height={80} />;\n  }\n};\n\nexport default PriceChart; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}